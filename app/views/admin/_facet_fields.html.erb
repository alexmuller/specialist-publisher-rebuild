<%= render "govuk_publishing_components/components/input", {
  label: {
    text: "Filter",
    heading_size: "s",
  },
  name: "facets[#{index}][name]",
  value: facet["name"],
  hint: "Example: Disease control zone type"
} %>

<%= render "govuk_publishing_components/components/input", {
  label: {
    text: "Filter short name (optional)",
    heading_size: "s",
  },
  name: "facets[#{index}][short_name]",
  value: facet["short_name"],
  hint: "Example: Control zone type"
} %>

<%= render "govuk_publishing_components/components/select", {
  name: "facets[#{index}][type]",
  id: "facet[#{index}][type]",
  label: "Type",
  heading_size: "s",
  options: [
      {
        text: "Text",
        value: "text",
        selected: facet["type"] == "text",
      },
      {
        text: "Date",
        value: "date",
        selected: facet["type"] == "date",
      }
    ]
} %>

<%= render "govuk_publishing_components/components/textarea", {
  label: {
    text: "Filter options",
    heading_size: "s",
  },
  hint: sanitize("Enclose options in quotes and separate with commas<br>Example: \"Option 1\", \"Option 2\""),
  name: "facets[#{index}][allowed_values]",
  rows: 5,
  # TODO corresponding facet value will be derived from label and subject to manual care by developer
  value: facet["allowed_values"]&.map { |opt| "\"#{opt["label"]}\"" }&.join(", "), 
} %>

<%= render "govuk_publishing_components/components/radio", {
  heading: "Can users use this filter when searching for content items?",
  heading_size: "s",
  name: "facets[#{index}][filterable]",
  inline: true,
  items: [
    {
      value: "true",
      text: "Yes",
      checked: facet["filterable"]
    },
    {
      value: "false",
      text: "No",
      checked: !facet["filterable"]
    }
  ]
} %>

<%= render "govuk_publishing_components/components/radio", {
  heading: "Show as information under content item?",
  heading_size: "s",
  hint: "Example: Air Accidents Investigation Branch reports displays ‘Aircraft category: Commercial - fixed wing’ under relevant content items",
  name: "facets[#{index}][display_as_result_metadata]",
  inline: true,
  items: [
    {
      value: "true",
      text: "Yes",
      checked: facet["display_as_result_metadata"]
    },
    {
      value: "false",
      text: "No",
      checked: !facet["display_as_result_metadata"]
    }
  ]
} %>

<%= render "govuk_publishing_components/components/radio", {
  heading: "Do publishers need to select an option for this filter when they add new content items?",
  heading_size: "s",
  name: "facets[#{index}][TODO]",
  inline: true,
  items: [
    {
      value: "true",
      text: "Yes",
      checked: facet["TODO"]
    },
    {
      value: "false",
      text: "No",
      checked: !facet["TODO"]
    }
  ]
} %>

<%= render "govuk_publishing_components/components/input", {
  label: {
    text: "Preposition (to be displayed when filter option is selected)",
    heading_size: "s",
  },
  name: "facets[#{index}][preposition]",
  value: facet["preposition"],
  hint: "Example: In Find funding for land or farms,  selecting an option in the filter ‘Area of interest’ displays the preposition ‘With’ before the selected option"
} %>
